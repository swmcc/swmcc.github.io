--- 
image-large: "/img/blog/header/default.png"
image-small: "/img/blog/default.png"
type: post
tags: 
- TV Project
published: true
title: "Personal TV Project: Part One (ii)"
layout: post
status: publish
meta: 
  original_post_id: "163"
  _wp_old_slug: "163"
---
<p>
Well I finally got round to <a href="/personal-tv-project-part-one/">re-installing</a> <a href="http://www.xmltv.org">XMLTV</a> on my server after the big <a href="/server-crash-of-2011/">crash</a>. As mentioned the database backups didn't work so I have to restart my old server and get the db schema from that. I work on this project 10mins here and 10mins there so no doubt it will be several weeks before I get the time to get back to where I was pre-crash. It takes a good three weeks of the listings running to be able to get enough information to start using it in any normal capacity. Hopefully I'll get it up and fully running by the end of this week - then let it run for a few weeks then start to tinker with it again.</p>

<p>
As I said previously getting XMLTV running on <a href="http://www.centos.org">Centos</a> isn't that much fun. This time I remembered a good bit of what I did back in Christmas to get it running and this time I wrote it down. Now this works for my system - I am a bit of nerd when it comes to <a href="http://www.perl.org">Perl</a> and I set up my <a href="http://www.cpan.org">CPAN</a> shell. So if you are going to follow this - you'll have to set that up first. I think I got the most of the stuff you need to get this running. Here it is:</p>
<p>
<pre>wget http://sourceforge.net/projects/xmltv/files/xmltv/0.5.59/xmltv-0.5.59.tar.bz2/download
bunzip2 xmltv-0.5.59.tar.bz2
tar -xvfÂ  xmltv-0.5.59.tar
cd xmltv-0.5.59
perl Makefile.PL
perl -MCPAN -e "install 'Term::ReadKey'"
perl -MCPAN -e "install 'Date::Manip'"
perl -MCPAN -e "install 'File::Slurp'"
perl -MCPAN -e "install 'HTTP::Cache::Transparent'"
perl -MCPAN -e "install 'IO::Stringy'"
perl -MCPAN -e "install 'XML::Writer'"
perl -MCPAN -e "install 'XML::Writer'"
perl -MCPAN -e "install 'Lingua::EN::Numbers::Ordinate'"
perl -MCPAN -e "install 'Lingua::EN::Numbers::Ordinate'"
perl -MCPAN -e "install 'Lingua::Preferred'"
perl -MCPAN -e "install 'Term::ProgressBar'"
perl -MCPAN -e "install 'Unicode::String'"
yum install perl-XML-LibXML.x86_64
perl Makefile.PL
make
make install
tv_grab_uk_rt --configure
tv_grab_uk_rt &gt; /tmp/tv.xml</pre></p>
<p>
The biggest annoyance for me this time wasn't the actual install. I think Centos has broke me down in that regard - this time it was having to choose the channels through the tv_grab_ut_rt --configure script.</p>

<p>
Now all I have to do is get the database for the listings going so that I can start to save the information from the XML feed. Doubt I will blog that though - its not very interesting. Biggest pain in the ass about this is that I will have to re-run the script that gets the actors photos from <a href="http://www.imdb.com">imdb.com</a>.</p>
