--- 
image-large: "/img/blog/header/default.png"
image-small: "/img/blog/default.png"
type: post
tags: Server 
published: true
title: Mutt for Gmail 
layout: post
status: publish
---
<p>
I said back in 2010 that I missed using mutt. I think the real power in mutt is how it deals with subject threading. When you have a high volume of email it is hard to beat and every email client I have to use is compared to Mutt and not one has come close to beating it in terms of mail handling, not one. Recently I bought myself a 13″ Macbook Pro (called it pippin) and for the first time I could use Mail.app for my personal email (not that my work forbid it, I just felt more comfortable with my work laptop only doing work stuff through Mail.app). So with glee I finally got round to putting personal email on Mail.app. I lasted all of two weeks before I got frustrated with it. I was using sparrowmail on my work laptop for my personal email but it has been bought by google and that means it wont be updated again. I tried thunderbird but that lasted less than a weekend. I am not asking for much – my email client has to do the following (in order of importance):</p>

<p>
	<ul>
		<li>
Handle multiple accounts</li>
<li>Deal with folders</li> 
<li>Subject Threading</li></ul>
<p>
That’s it – so why is it so hard to find something that “just works”? I’ve come across a nice wee app called Mailplane that seems to do my job very well (so far). I’ve got another 28 days (at the time of writing) left to trail it and so far so good. Its a good fit for me as any account I have to use is a google app account. However I am not a fan of how gmail handles threading. So I decided to install mutt on my mac as I am comparing every email client I use to it. Its working great so far and I’ve got it on my personal servers as well. A universal inbox then when I am away from my iPhone or on another machine that isn’t mine. Perfect.</p>

<p>
Mailplane will still be my main mail client but for the odd time I want to use mutt to see a conversation from a mailing list it will be there. Installing it was very simple:</p>

<pre>
brew install mutt #mac

apt-get install mutt #debian

yum install #centos

mkdir -p ~/.mutt/cache/headers; mkdir ~/.mutt/cache/bodies; touch ~/.mutt/certificates;
</pre>
<p>
I put my .muttrc on my dotfiles repo on github. It isn’t that smart or really any good. It has the colours in the same file etc. With a bit of googling you could find yourself a much better one. So either copy paste or:</p>

<pre>
git clone https://github.com/swmcc/dotfiles
cp dotfiles/mutt/.muttrc .muttrc
vim .muttrc
</pre>

Amend the following lines:

<p>
<pre>
account-hook imaps://user@domain@imap.gmail.com ‘set imap_user=user@domain@gmail.com imap_pass=”PASSWORD”‘
folder-hook ‘imaps://user@domain@imap.gmail.com’ ‘set folder=imaps://user@domain@imap.gmail.com/’
set folder=”imaps://user@domain@imap.gmail.com”</pre>

Just copy and paste the above with as many accounts as you have. Then when done:</p>

<p>
<pre>
mutt -y
</pre>
</p>
<p>
And then you’ll see this:
</p>
<img src="http://f.cl.ly/items/2Y2V2f043U1V3U1G3K1u/screen-shot-2012-10-06-at-20-29-11.png">

<p>
and this:
</p>

<img src="http://f.cl.ly/items/2W451F0s062S0e3q4608/screen-shot-2012-10-06-at-20-39-25.png">
 
<p>
I know there is a way in your .muttrc to show only certain folders and label them – but I cannot remember how to do that (it has been close to nine years since I last used mutt). However the lovely people at google provided a nice way of hiding folders you don’t want.. Go to your settings -> labels and there is a checkbox:</p>

<img src="http://f.cl.ly/items/0h1W2E1h2m1M2F3O1y3m/screen-shot-2012-10-06-at-20-28-22.png">

<p>
Click and unclick until your merry heart is content.
</p>

<p>
Of course this will seem ‘old skool’ to most but I don’t care. I much prefer handling mail with mutt than this:</p>

<img src="http://f.cl.ly/items/0h1W2E1h2m1M2F3O1y3m/screen-shot-2012-10-06-at-20-28-22.png">
